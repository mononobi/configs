# you should download the plex media server from here:
# https://www.plex.tv/media-server-downloads/
# then go to download path and execute:
sudo dpkg -i file_name.deb

# then check status:
systemctl status plexmediaserver

# if it is not running, execute following command to run it:
systemctl start plexmediaserver

# execute this command:
systemctl enable plexmediaserver

# execute the following command to see the source list file name of plex:
dpkg -L plexmediaserver

# the file is something like this:
# /etc/apt/sources.list.d/plexmediaserver.list
# open the above file and uncomment the last line of it.

# then run the below command:
wget -q https://downloads.plex.tv/plex-keys/PlexSign.key -O - | sudo tee /etc/apt/trusted.gpg.d/plexmediaserver.asc
sudo apt update

# now plex media server will be updated through normal os updates.

# plex media server home directory and metadata is:
/var/lib/plexmediaserver

# you could create a symlink to another location if you want to store
# metadata files in another place.

cd /var/lib/
sudo rm -r plexmediaserver
sudo ln -s /home/USERNAME/.plexmediaserver/plexmediaserver .

# after creating symlink, you must add your user into 'plex'
# group to be able to access metadata files without root permission:

sudo usermod -aG plex USERNAME

# you should also set 'plex' as the owner of the directory and symlink:

sudo chown -R plex:plex .plexmediaserver
sudo chmod -R 775 .plexmediaserver

sudo chown -R plex:plex plexmediaserver
sudo chmod -R 775 plexmediaserver

# plex media server executables directory is:
/usr/lib/plexmediaserver

# allow 32400 port in ufw.
# add all client ips which want to connect to server in plex network settings.
